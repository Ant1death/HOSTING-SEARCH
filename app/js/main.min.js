"use strict";
window.addEventListener("DOMContentLoaded", (() => {
    const e = document.querySelector("#Single"),
        c = document.querySelector("#Dual"),
        s = document.querySelector("#Quad"),
        t = document.querySelector("#Instock"),
        l = document.querySelector("#GPUavailable"),
        a = document.querySelector(".reset-filter"),
        i = document.querySelector(".filters"),
        n = document.querySelector(".level__filter-hide-btn"),
        o = document.querySelector(".level__filter-hide-btn-span"),
        r = document.querySelectorAll(".company-box__body-line"),
        d = (document.querySelector(".filters-box"), [e, c, s]);
    let u = document.querySelector("#slidercore1"),
        v = document.querySelector("#slidercore2"),
        h = document.querySelector("#rangecore1"),
        _ = document.querySelector("#rangecore2"),
        y = document.querySelector('[data-Track="core"]'),
        L = document.querySelector("#slidercore1").max,
        k = document.querySelector("#sliderRAM1"),
        w = document.querySelector("#sliderRAM2"),
        p = document.querySelector("#rangeRAM1"),
        f = document.querySelector("#rangeRAM2"),
        m = document.querySelector('[data-Track="ram"]'),
        x = document.querySelector("#sliderRAM1").max,
        S = 128;

    function g() {
        e.classList.contains("el-switch__core-checked") || c.classList.contains("el-switch__core-checked") || s.classList.contains("el-switch__core-checked") || t.classList.contains("el-switch__core-checked") || l.classList.contains("el-switch__core-checked") || u.value >= 8 || v.value <= 48 || k.value >= 32 || w.value <= 1520 ? a.classList.add("reset-filter_active") : a.classList.remove("reset-filter_active")
    }

    function q() {
        r.forEach((a => {
            let i, n, o, r, d;
            r = +a.getAttribute("data-stock"), d = +a.getAttribute("data-gpu"), n = +a.getAttribute("data-ram"), i = +a.getAttribute("data-cores"), o = +a.getAttribute("data-type"), i >= u.value && i <= v.value && n >= k.value && n <= w.value ? a.style.display = "flex" : a.style.display = "none", t.classList.contains("el-switch__core-checked") && (t.classList.contains("el-switch__core-checked") && (r >= 1 && d >= 0 && i >= u.value && i <= v.value && n >= k.value && n <= w.value ? a.style.display = "flex" : a.style.display = "none"), t.classList.contains("el-switch__core-checked") && l.classList.contains("el-switch__core-checked") && (r >= 1 && 1 == d && i >= u.value && i <= v.value && n >= k.value && n <= w.value ? a.style.display = "flex" : a.style.display = "none")), l.classList.contains("el-switch__core-checked") && (l.classList.contains("el-switch__core-checked") && (r >= 0 && d >= 1 && i >= u.value && i <= v.value && n >= k.value && n <= w.value ? a.style.display = "flex" : a.style.display = "none"), t.classList.contains("el-switch__core-checked") && l.classList.contains("el-switch__core-checked") && (r >= 1 && 1 == d && i >= u.value && i <= v.value && n >= k.value && n <= w.value ? a.style.display = "flex" : a.style.display = "none")), e.classList.contains("el-switch__core-checked") && (e.classList.contains("el-switch__core-checked") && (1 == o && i >= u.value && i <= v.value && n >= k.value && n <= w.value ? a.style.display = "flex" : a.style.display = "none"), t.classList.contains("el-switch__core-checked") && e.classList.contains("el-switch__core-checked") && (1 === o && r >= 1 && d >= 0 && i >= u.value && i <= v.value && n >= k.value && n <= w.value ? a.style.display = "flex" : a.style.display = "none"), l.classList.contains("el-switch__core-checked") && e.classList.contains("el-switch__core-checked") && (1 === o && r >= 0 && 1 == d && i >= u.value && i <= v.value && n >= k.value && n <= w.value ? a.style.display = "flex" : a.style.display = "none"), l.classList.contains("el-switch__core-checked") && e.classList.contains("el-switch__core-checked") && t.classList.contains("el-switch__core-checked") && (1 === o && r >= 1 && d >= 1 && i >= u.value && i <= v.value && n >= k.value && n <= w.value ? a.style.display = "flex" : a.style.display = "none")), c.classList.contains("el-switch__core-checked") && (c.classList.contains("el-switch__core-checked") && (2 == o && i >= u.value && i <= v.value && n >= k.value && n <= w.value ? a.style.display = "flex" : a.style.display = "none"), t.classList.contains("el-switch__core-checked") && c.classList.contains("el-switch__core-checked") && (2 === o && r >= 1 && d >= 0 && i >= u.value && i <= v.value && n >= k.value && n <= w.value ? (a.style.display = "flex", console.log(r)) : a.style.display = "none"), l.classList.contains("el-switch__core-checked") && c.classList.contains("el-switch__core-checked") && (2 === o && r >= 0 && 1 == d && i >= u.value && i <= v.value && n >= k.value && n <= w.value ? a.style.display = "flex" : a.style.display = "none"), l.classList.contains("el-switch__core-checked") && c.classList.contains("el-switch__core-checked") && t.classList.contains("el-switch__core-checked") && (4 === o && r >= 1 && d >= 1 && i >= u.value && i <= v.value && n >= k.value && n <= w.value ? a.style.display = "flex" : a.style.display = "none")), s.classList.contains("el-switch__core-checked") && (s.classList.contains("el-switch__core-checked") && (4 == o && i >= u.value && i <= v.value && n >= k.value && n <= w.value ? (a.style.display = "flex", console.log(o)) : a.style.display = "none"), t.classList.contains("el-switch__core-checked") && s.classList.contains("el-switch__core-checked") && (4 === o && r >= 1 && d >= 0 && i >= u.value && i <= v.value && n >= k.value && n <= w.value ? (a.style.display = "flex", console.log(r)) : a.style.display = "none"), l.classList.contains("el-switch__core-checked") && s.classList.contains("el-switch__core-checked") && (4 === o && r >= 0 && 1 == d && i >= u.value && i <= v.value && n >= k.value && n <= w.value ? a.style.display = "flex" : a.style.display = "none"), l.classList.contains("el-switch__core-checked") && s.classList.contains("el-switch__core-checked") && t.classList.contains("el-switch__core-checked") && (4 === o && r >= 1 && d >= 1 && i >= u.value && i <= v.value && n >= k.value && n <= w.value ? a.style.display = "flex" : a.style.display = "none"))
        }))
    }

    function E() {
        parseInt(v.value) - parseInt(u.value) <= 4 && (u.value = parseInt(v.value) - 4), h.textContent = `${u.value} cores`, q(), I(), g()
    }

    function b() {
        parseInt(v.value) - parseInt(u.value) <= 4 && (v.value = parseInt(u.value) + 4), _.textContent = `${v.value} cores`, q(), I(), g()
    }

    function I() {
        let e = u.value / L * 100,
            c = v.value / L * 100;
        y.style.background = `linear-gradient(to right, #dadae5 ${e}% , #0dd149 ${e}% , #0dd149 ${c}%, #dadae5 ${c}%)`
    }

    function $() {
        parseInt(w.value) - parseInt(k.value) <= S && (k.value = parseInt(w.value) - S), p.textContent = `${k.value} GB`, q(), C(), g()
    }

    function A() {
        parseInt(w.value) - parseInt(k.value) <= S && (w.value = parseInt(k.value) + S), f.textContent = `${w.value} GB`, q(), C(), g()
    }

    function C() {
        let e = k.value / x * 100,
            c = w.value / x * 100;
        m.style.background = `linear-gradient(to right, #dadae5 ${e}% , #0dd149 ${e}% , #0dd149 ${c}%, #dadae5 ${c}%)`
    }
    d.forEach(((e, c) => {
        e.addEventListener("click", (() => {
            ! function (e = 0) {
                d.forEach((e => {
                    e.classList.remove("el-switch__core-checked")
                })), d[e].classList.add("el-switch__core-checked")
            }(c), g(), q()
        }))
    })), t.addEventListener("click", (() => {
        t.classList.toggle("el-switch__core-checked"), g(), q()
    })), l.addEventListener("click", (() => {
        l.classList.toggle("el-switch__core-checked"), g(), q()
    })), a.addEventListener("click", (() => {
        (e.classList.contains("el-switch__core-checked") || c.classList.contains("el-switch__core-checked") || s.classList.contains("el-switch__core-checked") || t.classList.contains("el-switch__core-checked") || l.classList.contains("el-switch__core-checked") || u.value >= 8 || v.value <= 48 || k.value >= 32 || w.value <= 1520) && (d.forEach((e => {
            e.classList.remove("el-switch__core-checked")
        })), t.classList.remove("el-switch__core-checked"), l.classList.remove("el-switch__core-checked"), u.value = 4, v.value = 52, k.value = 16, w.value = 1536, E(), b(), $(), A(), r.forEach((e => {
            e.style.display = "flex"
        })), a.classList.remove("reset-filter_active"))
    })), n.addEventListener("click", (() => {
        i.classList.contains("show") ? (i.classList.remove("show"), i.classList.add("hide"), o.textContent = "Show Filter") : (i.classList.remove("hide"), i.classList.add("show"), o.textContent = "Hide Filter")
    })), u.addEventListener("input", E), v.addEventListener("input", b), I(), k.addEventListener("input", $), w.addEventListener("input", A), C()
}));
